import{d as P,r as u,o as b,c as n,a as t,b as m,F as v,e as C,w as V,f as A,v as I,u as T,t as d,g as r,_ as q}from"./index-ChOdz66V.js";const j={temperature:.5,top_p:.9,frequency_penalty:.6,presence_penalty:.3,max_tokens:1024},B={temperature:.6,top_p:1,frequency_penalty:.5,presence_penalty:.4,max_tokens:1024},F={temperature:.7,top_p:1,frequency_penalty:.7,presence_penalty:.6,max_tokens:1200},M={temperature:.5,top_p:.95,frequency_penalty:.4,presence_penalty:.2,max_tokens:1024},J="ã‚ãªãŸã¯ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã‚’å…ƒã«ã€ä»•äº‹ãƒ»è·å ´ã§ã®æ‚©ã¿ã«å¯¾ã—ã¦å®Ÿè·µçš„ã‹ã¤ä¸å¯§ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚è¨€èªã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã«åˆã‚ã›ã¦ãã ã•ã„ã€‚",N="ã‚ãªãŸã¯æ•™è‚²ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã§ã™ã€‚å­¦æ¥­ãƒ»å‹‰å¼·ãƒ»é€²è·¯ã«é–¢ã™ã‚‹æ‚©ã¿ã«å¯¾ã—ã¦ã€è¦ªåˆ‡ã§å‰å‘ããªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½¿ç”¨è¨€èªã‚’è‡ªå‹•çš„ã«åˆ¤æ–­ã—ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",S="ã‚ãªãŸã¯ä¿¡é ¼ã§ãã‚‹ç›¸è«‡ç›¸æ‰‹ã§ã™ã€‚äººé–“é–¢ä¿‚ã‚„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹æ‚©ã¿ã«å¯¾ã—ã¦ã€å„ªã—ãå…±æ„Ÿã—ãªãŒã‚‰ã€å½¹ã«ç«‹ã¤ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨€èªã«å¿œã˜ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",D="ã‚ãªãŸã¯å¥åº·ãƒ»ãƒ¡ãƒ³ã‚¿ãƒ«ã‚µãƒãƒ¼ãƒˆã«é–¢ã™ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½“èª¿ã‚„å¿ƒã®æ‚©ã¿ã«å¯¾ã—ã¦ã€ç„¡ç†ã®ãªã„ã€æ€ã„ã‚„ã‚Šã®ã‚ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚å¿…è¦ã«å¿œã˜ã¦å°‚é–€æ©Ÿé–¢ã¸ã®ç›¸è«‡ã‚‚å‹§ã‚ã¦ãã ã•ã„ã€‚å…¥åŠ›è¨€èªã«åˆã‚ã›ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",O="ã‚ãªãŸã¯å„ªã—ãä¸å¯§ãªã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã¨ã—ã¦ç›¸è«‡ã«ç­”ãˆã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½¿ç”¨è¨€èªã‚’è‡ªå‹•çš„ã«åˆ¤æ–­ã—ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",R="ã‚ãªãŸã¯å„ªã—ãä¸å¯§ãªã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã¨ã—ã¦ç›¸è«‡ã«ç­”ãˆã¾ã™ã€‚",E={class:"chat-view"},z={class:"chat-view__wrapper"},Q={class:"chat-view__window",id:"chatWindow"},W={key:0,class:"chat-message welcome-message"},X=["id"],Y={class:"bot-title"},Z={class:"bot-label"},$={key:1,class:"typing-indicator"},H={class:"chat-view__form-wrapper"},K={class:"chat-view__textarea"},L=P({__name:"ChatView",setup(U){const _=T(),c=u(""),o=u([{role:"system",content:R}]),l=u(null),p=u(!1),f=e=>{switch(e){case"job":return J;case"study":return N;case"relationship":return S;case"health":return D;default:return O}},g=e=>{switch(e){case"job":return j;case"study":return B;case"relationship":return F;case"health":return M;default:return{temperature:.7}}},w=e=>{const a=o.value.slice(1);return[{role:"system",content:f(e)},...a]},h=()=>{setTimeout(()=>{const e=document.getElementById(`message-${o.value.length-1}`);e==null||e.scrollIntoView({behavior:"smooth"})},0)},y=()=>sessionStorage.getItem("apiKey")||null,k=async()=>{var e,a;try{p.value=!0;const i=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.value}`},body:JSON.stringify({model:"gpt-4",messages:w(((e=_.query)==null?void 0:e.type)||""),...g(((a=_.query)==null?void 0:a.type)||"")})})).json();o.value.push({role:"assistant",content:i.choices[0].message.content})}catch(s){o.value.push({role:"assistant",content:s==null?void 0:s.message})}finally{p.value=!1}},x=async()=>{if(!l.value){l.value=y(),l.value||alert("API key is required");return}if(c.value)o.value.push({role:"user",content:c.value}),h(),c.value="";else return;try{await k(),h()}catch(e){console.error(e)}};return b(()=>{l.value=y()}),(e,a)=>(r(),n("div",E,[t("section",z,[t("div",Q,[o.value.length===1?(r(),n("div",W," ã“ã‚“ã«ã¡ã¯ï¼ã”ç›¸è«‡å†…å®¹ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚ ")):m("",!0),(r(!0),n(v,null,C(o.value,(s,i)=>(r(),n(v,{key:i},[i>0?(r(),n("div",{key:0,class:"chat-message bot",id:`message-${i}`},[t("span",Y,[t("span",null,d(s.role==="assistant"?"ğŸ¤–":"ğŸ‘¤"),1),t("span",Z,d(s.role==="assistant"?"AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ":"ã‚ãªãŸ"),1)]),t("p",null,d(s.content),1)],8,X)):m("",!0)],64))),128)),p.value?(r(),n("p",$,"è€ƒãˆ...")):m("",!0)]),t("div",H,[t("form",{id:"chatForm",class:"chat-view__form",onClick:a[1]||(a[1]=V(()=>{},["prevent"]))},[t("div",K,[A(t("textarea",{"onUpdate:modelValue":a[0]||(a[0]=s=>c.value=s),rows:"4",cols:"30",type:"text",id:"userInput",name:"userInput",placeholder:"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›...",required:""},null,512),[[I,c.value,void 0,{trim:!0}]])]),t("button",{type:"submit",onClick:x},"é€ä¿¡")])])])]))}}),ee=q(L,[["__scopeId","data-v-9ab65a22"]]);export{ee as default};
