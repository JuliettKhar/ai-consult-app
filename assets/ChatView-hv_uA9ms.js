import{d as C,r as u,o as P,c as n,a as s,b as d,F as v,e as b,w as V,f as A,v as I,u as T,n as q,t as m,g as r,_ as j}from"./index-CIgwFrkc.js";const B={temperature:.5,top_p:.9,frequency_penalty:.6,presence_penalty:.3,max_tokens:1024},F={temperature:.6,top_p:1,frequency_penalty:.5,presence_penalty:.4,max_tokens:1024},M={temperature:.7,top_p:1,frequency_penalty:.7,presence_penalty:.6,max_tokens:1200},J={temperature:.5,top_p:.95,frequency_penalty:.4,presence_penalty:.2,max_tokens:1024},N="ã‚ãªãŸã¯ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã‚’å…ƒã«ã€ä»•äº‹ãƒ»è·å ´ã§ã®æ‚©ã¿ã«å¯¾ã—ã¦å®Ÿè·µçš„ã‹ã¤ä¸å¯§ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚è¨€èªã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã«åˆã‚ã›ã¦ãã ã•ã„ã€‚",S="ã‚ãªãŸã¯æ•™è‚²ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã§ã™ã€‚å­¦æ¥­ãƒ»å‹‰å¼·ãƒ»é€²è·¯ã«é–¢ã™ã‚‹æ‚©ã¿ã«å¯¾ã—ã¦ã€è¦ªåˆ‡ã§å‰å‘ããªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½¿ç”¨è¨€èªã‚’è‡ªå‹•çš„ã«åˆ¤æ–­ã—ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",D="ã‚ãªãŸã¯ä¿¡é ¼ã§ãã‚‹ç›¸è«‡ç›¸æ‰‹ã§ã™ã€‚äººé–“é–¢ä¿‚ã‚„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹æ‚©ã¿ã«å¯¾ã—ã¦ã€å„ªã—ãå…±æ„Ÿã—ãªãŒã‚‰ã€å½¹ã«ç«‹ã¤ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’æä¾›ã—ã¦ãã ã•ã„ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨€èªã«å¿œã˜ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",O="ã‚ãªãŸã¯å¥åº·ãƒ»ãƒ¡ãƒ³ã‚¿ãƒ«ã‚µãƒãƒ¼ãƒˆã«é–¢ã™ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒ¼ã§ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½“èª¿ã‚„å¿ƒã®æ‚©ã¿ã«å¯¾ã—ã¦ã€ç„¡ç†ã®ãªã„ã€æ€ã„ã‚„ã‚Šã®ã‚ã‚‹ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’è¡Œã£ã¦ãã ã•ã„ã€‚å¿…è¦ã«å¿œã˜ã¦å°‚é–€æ©Ÿé–¢ã¸ã®ç›¸è«‡ã‚‚å‹§ã‚ã¦ãã ã•ã„ã€‚å…¥åŠ›è¨€èªã«åˆã‚ã›ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",R="ã‚ãªãŸã¯å„ªã—ãä¸å¯§ãªã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã¨ã—ã¦ç›¸è«‡ã«ç­”ãˆã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½¿ç”¨è¨€èªã‚’è‡ªå‹•çš„ã«åˆ¤æ–­ã—ã¦è¿”ç­”ã—ã¦ãã ã•ã„ã€‚",z="ã‚ãªãŸã¯å„ªã—ãä¸å¯§ãªã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã¨ã—ã¦ç›¸è«‡ã«ç­”ãˆã¾ã™ã€‚",E={class:"chat-view"},Q={class:"chat-view__wrapper"},W={class:"chat-view__window",id:"chatWindow"},X={key:0,class:"chat-message welcome-message"},Y=["id"],Z={class:"bot-title"},$={class:"bot-label"},H={key:1,class:"typing-indicator"},K={class:"chat-view__form-wrapper"},L={class:"chat-view__textarea"},U=C({__name:"ChatView",setup(G){const _=T(),c=u(""),o=u([{role:"system",content:z}]),l=u(null),p=u(!1),f=e=>{switch(e){case"job":return N;case"study":return S;case"relationship":return D;case"health":return O;default:return R}},g=e=>{switch(e){case"job":return B;case"study":return F;case"relationship":return M;case"health":return J;default:return{temperature:.7}}},w=e=>{const a=o.value.slice(1);return[{role:"system",content:f(e)},...a]},h=()=>{setTimeout(()=>{const e=document.getElementById(`message-${o.value.length-1}`);e==null||e.scrollIntoView({behavior:"smooth"})},0)},y=()=>sessionStorage.getItem("apiKey")||null,k=async()=>{var e,a;try{p.value=!0;const i=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.value}`},body:JSON.stringify({model:"gpt-4",messages:w(((e=_.query)==null?void 0:e.type)||""),...g(((a=_.query)==null?void 0:a.type)||"")})})).json();o.value.push({role:"assistant",content:i.choices[0].message.content})}catch(t){o.value.push({role:"assistant",content:t==null?void 0:t.message})}finally{p.value=!1}},x=async()=>{if(!l.value){l.value=y(),l.value||alert("API key is required");return}if(c.value)o.value.push({role:"user",content:c.value}),h(),c.value="";else return;try{await k(),h()}catch(e){console.error(e)}};return P(()=>{l.value=y()}),(e,a)=>(r(),n("div",E,[s("section",Q,[s("div",W,[o.value.length===1?(r(),n("div",X," ã“ã‚“ã«ã¡ã¯ï¼ã”ç›¸è«‡å†…å®¹ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚ ")):d("",!0),(r(!0),n(v,null,b(o.value,(t,i)=>(r(),n(v,{key:i},[i>0?(r(),n("div",{key:0,class:q(["chat-message bot",t.role==="assistant"?"assistant":"user"]),id:`message-${i}`},[s("span",Z,[s("span",null,m(t.role==="assistant"?"ğŸ¤–":"ğŸ‘¤"),1),s("span",$,m(t.role==="assistant"?"AI ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ":"ã‚ãªãŸ"),1)]),s("p",null,m(t.content),1)],10,Y)):d("",!0)],64))),128)),p.value?(r(),n("p",H,"è€ƒãˆ...")):d("",!0)]),s("div",K,[s("form",{id:"chatForm",class:"chat-view__form",onClick:a[1]||(a[1]=V(()=>{},["prevent"]))},[s("div",L,[A(s("textarea",{"onUpdate:modelValue":a[0]||(a[0]=t=>c.value=t),rows:"4",cols:"30",type:"text",id:"userInput",name:"userInput",placeholder:"ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›...",required:""},null,512),[[I,c.value,void 0,{trim:!0}]])]),s("button",{type:"submit",onClick:x},"é€ä¿¡")])])])]))}}),te=j(U,[["__scopeId","data-v-729d024d"]]);export{te as default};
